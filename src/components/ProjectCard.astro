---
import { Card as ShadcnCard } from './ui/card'

const {
  as: Tag = 'a',
  class: className,
  href,
  heading,
  subheading,
  imagePath,
  altText,
  repo,
  live,
} = Astro.props
---

<Tag href={href ?? 'javascript:void(0)'} class={className ?? ''} style="text-decoration: none;">
  <ShadcnCard
    class={`group relative flex-none overflow-hidden rounded-2xl shadow-lg transition duration-150 ease-in-out ${href ? 'cursor-pointer hover:border-primary' : ''}`}
  >
    <img
      src={imagePath}
      alt={altText ?? heading}
      class="h-48 w-full rounded-t-2xl object-cover"
      loading="eager"
    />
    <div class="flex flex-col gap-y-0.5 px-5 py-4">
      <h3 class="text-lg font-medium leading-tight">{heading}</h3>
      {subheading && <p class="text-sm text-muted-foreground mt-1">{subheading}</p>}
    </div>

    <div class="px-5 pb-4 pt-2">
      <div class="flex gap-3 items-center">
        {repo &&
          <a
            class="text-sm font-medium underline hover:text-primary"
            href={repo}
            target="_blank"
            rel="noopener noreferrer"
            on:click={(e) => e.stopPropagation()}
          >
            GitHub
          </a>
        }
        {live &&
          <a
            class="text-sm font-medium underline hover:text-primary"
            href={live}
            target="_blank"
            rel="noopener noreferrer"
            on:click={(e) => e.stopPropagation()}
          >
            Live
          </a>
        }
      </div>
    </div>
  </ShadcnCard>
</Tag>
